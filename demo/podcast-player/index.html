<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">
    <title>Podcast Player</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/player.css">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous">
</head>
<body>
    <!-- Tab Navigation -->
    <nav class="tab-navigation" id="tab-navigation">
        <button class="tab-button active" data-tab="now-playing" id="tab-now-playing">Now Playing</button>
        <button class="tab-button" data-tab="follow" id="tab-follow">Follow</button>
        <button class="tab-button" data-tab="details" id="tab-details">Details</button>
        <button class="tab-button" data-tab="episodes" id="tab-episodes">Episodes</button>
    </nav>

    <!-- Tab Content Container -->
    <div class="tab-content-container" id="tab-content-container">
        <!-- Now Playing Tab -->
        <div class="tab-panel active" id="now-playing-panel">
            <div class="now-playing-content">
                <!-- Full Width Cover Artwork with Title Overlay -->
                <div class="episode-artwork-fullwidth" id="now-playing-artwork-container">
                    <img class="episode-artwork-large" id="now-playing-artwork" src="" alt="Episode Artwork" style="display: none;">
                    <div class="artwork-placeholder" id="artwork-placeholder">
                        <i class="fas fa-music"></i>
                    </div>
                    <!-- Title and Podcast Name Overlay (Upper Left) - Removed -->
                </div>

                <!-- Progress Section (Below Artwork, Above Controls) -->
                <div class="progress-section-large" id="progress-section-now-playing">
                    <div class="time-display">
                        <span id="current-time-display">0:00</span>
                        <span id="remaining-time-display">-0:00</span>
                    </div>
                    <div class="progress-bar-now-playing" id="progress-bar-now-playing">
                        <div class="progress-fill-now-playing" id="progress-fill-now-playing"></div>
                        <div class="progress-scrubber-now-playing" id="progress-scrubber-now-playing"></div>
                    </div>
                </div>

                <!-- Player Controls (Below Progress) -->
                <div class="player-controls-section">

                    <!-- Primary Controls -->
                    <div class="primary-controls">
                        <button class="control-button-large skip-back-large" id="skip-back-large" aria-label="Skip back 15 seconds">
                            <span class="skip-label-large">15</span>
                            <i class="fas fa-backward"></i>
                        </button>
                        <button class="control-button-large play-pause-large-now" id="play-pause-large-now" aria-label="Play/Pause">
                            <i class="fas fa-play"></i>
                        </button>
                        <button class="control-button-large skip-forward-large" id="skip-forward-large" aria-label="Skip forward 30 seconds">
                            <span class="skip-label-large">30</span>
                            <i class="fas fa-forward"></i>
                        </button>
                    </div>

                    <!-- Secondary Controls Bar -->
                    <div class="secondary-controls-bar">
                        <button class="secondary-control-btn speed-control-btn" id="speed-control-btn" aria-label="Playback Speed">
                            <span id="speed-display">1x</span>
                        </button>
                        <button class="secondary-control-btn timer-control-btn" id="timer-control-btn" aria-label="Sleep Timer">
                            <i class="fas fa-moon"></i>
                            <span id="timer-display">Off</span>
                        </button>
                        <button class="secondary-control-btn share-control-btn" id="share-control-btn" aria-label="Share">
                            <i class="fas fa-share-alt"></i>
                        </button>
                        <button class="secondary-control-btn more-control-btn" id="more-control-btn" aria-label="More Options">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>

                    <!-- Speed Selector (Inline) -->
                    <div class="inline-speed-selector" id="inline-speed-selector" style="display: none;">
                        <h3 class="inline-selector-title">Playback Speed</h3>
                        <div class="speed-options-inline" id="speed-options-inline">
                            <!-- Speed options will be inserted here -->
                        </div>
                    </div>

                    <!-- Timer Selector (Inline) -->
                    <div class="inline-timer-selector" id="inline-timer-selector" style="display: none;">
                        <h3 class="inline-selector-title">Sleep Timer</h3>
                        <div class="timer-options-inline" id="timer-options-inline">
                            <!-- Timer options will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Follow Tab -->
        <div class="tab-panel" id="follow-panel">
            <div class="details-content">
                <!-- Follow & Share Section -->
                <div class="details-section" id="follow-section">
                    <h2 class="section-title">Follow & Share</h2>
                    <div id="follow-content">
                        <!-- Follow content will be inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Details Tab -->
        <div class="tab-panel" id="details-panel">
            <div class="details-content">
                <!-- Show Notes Section -->
                <div class="details-section" id="shownotes-section">
                    <h2 class="section-title">Show Notes</h2>
                    <div class="shownotes-content" id="shownotes-content">
                        <p class="empty-message">No episode selected</p>
                    </div>
                </div>

                <!-- Chapters Section -->
                <div class="details-section" id="chapters-section">
                    <h2 class="section-title">Chapters</h2>
                    <div class="chapters-list" id="chapters-list">
                        <div class="empty-state">No chapters available</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Episodes Tab -->
        <div class="tab-panel" id="episodes-panel">
            <div class="episodes-content">
                <!-- Loading Skeleton -->
                <div class="loading-skeleton" id="loading-skeleton">
                    <div class="skeleton-item"></div>
                    <div class="skeleton-item"></div>
                    <div class="skeleton-item"></div>
                    <div class="skeleton-item"></div>
                </div>
                
                <!-- Episodes List -->
                <div class="episodes-list" id="episodes-list" style="display: none;">
                    <!-- Episodes will be inserted here -->
                </div>
                
                <!-- Error State -->
                <div class="error-state" id="error-state" style="display: none;">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Failed to load episodes</p>
                    <button class="retry-button" id="retry-button">Retry</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Toast Notification -->
    <div class="toast" id="toast" style="display: none;">
        <span id="toast-message"></span>
    </div>

    <!-- Audio Element -->
    <audio id="audio-player" preload="metadata"></audio>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/rss-parser.js"></script>
    <script src="js/player.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
