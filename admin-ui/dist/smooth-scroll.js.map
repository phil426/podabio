{"version":3,"file":"smooth-scroll.js","sources":["../src/components/marketing/SmoothScrollController.tsx","../src/smooth-scroll.tsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\n\nexport function SmoothScrollController(): null {\n  const testimonialsSectionRef = useRef<HTMLElement | null>(null);\n  \n  useEffect(() => {\n    testimonialsSectionRef.current = document.querySelector('.testimonials-section');\n    \n    if (!testimonialsSectionRef.current) return;\n    \n    const section = testimonialsSectionRef.current;\n    \n    // CSS-only approach: Add class to html/body when in testimonials section\n    // This allows CSS scroll-snap to activate immediately from the top\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          // Only activate when section is meaningfully in view - not when scrolled past\n          const isInView = entry.isIntersecting && entry.intersectionRatio > 0.1;\n          const isScrollingPast = entry.boundingClientRect.top < 0 && entry.intersectionRatio < 0.3;\n          \n          if (isInView && !isScrollingPast) {\n            document.documentElement.classList.add('scroll-in-testimonials');\n            document.body.classList.add('scroll-in-testimonials');\n            section.classList.add('scroll-resistance-active');\n          } else {\n            // Definitely remove when scrolling past\n            document.documentElement.classList.remove('scroll-in-testimonials');\n            document.body.classList.remove('scroll-in-testimonials');\n            section.classList.remove('scroll-resistance-active');\n          }\n        });\n      },\n      {\n        // Activate when section is in viewport\n        threshold: [0, 0.1, 0.2, 0.5, 0.8, 1],\n        rootMargin: '20% 0px -20% 0px' // Activate when section is 20% away, deactivate when 20% past\n      }\n    );\n    \n    observer.observe(section);\n    \n    return () => {\n      observer.disconnect();\n      document.documentElement.classList.remove('scroll-in-testimonials');\n      document.body.classList.remove('scroll-in-testimonials');\n    };\n  }, []);\n  \n  return null;\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { SmoothScrollController } from './components/marketing/SmoothScrollController';\n\n// Create a hidden mount point for the smooth scroll controller\nlet rootElement = document.getElementById('smooth-scroll-root');\n\nif (!rootElement) {\n  rootElement = document.createElement('div');\n  rootElement.id = 'smooth-scroll-root';\n  rootElement.style.display = 'none';\n  document.body.appendChild(rootElement);\n}\n\nconst root = ReactDOM.createRoot(rootElement);\nroot.render(\n  <React.StrictMode>\n    <SmoothScrollController />\n  </React.StrictMode>\n);\n\n"],"names":["SmoothScrollController","testimonialsSectionRef","useRef","useEffect","section","observer","entries","entry","isInView","isScrollingPast","rootElement","root","ReactDOM","React","jsx"],"mappings":"8DAEO,SAASA,GAA+B,CAC7C,MAAMC,EAAyBC,EAAAA,OAA2B,IAAI,EAE9DC,OAAAA,EAAAA,UAAU,IAAM,CAGd,GAFAF,EAAuB,QAAU,SAAS,cAAc,uBAAuB,EAE3E,CAACA,EAAuB,QAAS,OAErC,MAAMG,EAAUH,EAAuB,QAIjCI,EAAW,IAAI,qBAClBC,GAAY,CACXA,EAAQ,QAASC,GAAU,CAEzB,MAAMC,EAAWD,EAAM,gBAAkBA,EAAM,kBAAoB,GAC7DE,EAAkBF,EAAM,mBAAmB,IAAM,GAAKA,EAAM,kBAAoB,GAElFC,GAAY,CAACC,GACf,SAAS,gBAAgB,UAAU,IAAI,wBAAwB,EAC/D,SAAS,KAAK,UAAU,IAAI,wBAAwB,EACpDL,EAAQ,UAAU,IAAI,0BAA0B,IAGhD,SAAS,gBAAgB,UAAU,OAAO,wBAAwB,EAClE,SAAS,KAAK,UAAU,OAAO,wBAAwB,EACvDA,EAAQ,UAAU,OAAO,0BAA0B,EAEvD,CAAC,CACH,EACA,CAEE,UAAW,CAAC,EAAG,GAAK,GAAK,GAAK,GAAK,CAAC,EACpC,WAAY,kBAAA,CACd,EAGF,OAAAC,EAAS,QAAQD,CAAO,EAEjB,IAAM,CACXC,EAAS,WAAA,EACT,SAAS,gBAAgB,UAAU,OAAO,wBAAwB,EAClE,SAAS,KAAK,UAAU,OAAO,wBAAwB,CACzD,CACF,EAAG,CAAA,CAAE,EAEE,IACT,CC7CA,IAAIK,EAAc,SAAS,eAAe,oBAAoB,EAEzDA,IACHA,EAAc,SAAS,cAAc,KAAK,EAC1CA,EAAY,GAAK,qBACjBA,EAAY,MAAM,QAAU,OAC5B,SAAS,KAAK,YAAYA,CAAW,GAGvC,MAAMC,EAAOC,EAAS,WAAWF,CAAW,EAC5CC,EAAK,aACFE,EAAM,WAAN,CACC,SAAAC,MAACd,IAAuB,CAAA,CAC1B,CACF"}